# LINE Bot è¨­å®šæ­¥é©ŸæŒ‡å—

> ğŸ’» **è·¨å¹³å°æ”¯æ´**ï¼šæœ¬æŒ‡å—é©ç”¨æ–¼ Windows èˆ‡ macOS ä½¿ç”¨è€…ï¼Œæ­¥é©Ÿé€šç”¨ã€‚

## ç¬¬ä¸€æ­¥ï¼šå»ºç«‹ LINE Bot

### 1. è¨»å†Š LINE Developers å¸³è™Ÿ
1. å‰å¾€ [LINE Developers Console](https://developers.line.biz/)
2. ä½¿ç”¨ä½ çš„ LINE å¸³è™Ÿç™»å…¥
3. åŒæ„é–‹ç™¼è€…æ¢æ¬¾

### 2. å»ºç«‹ Provider
1. é»é¸ã€ŒCreateã€å»ºç«‹æ–°çš„ Provider
2. Provider nameï¼šè¼¸å…¥ä½ çš„åç¨±ï¼ˆä¾‹å¦‚ï¼šæ¯æ—¥éˆä¿®ï¼‰
3. é»é¸ã€ŒCreateã€

### 3. å»ºç«‹ Messaging API Channel
1. åœ¨ Provider é é¢é»é¸ã€ŒCreate a Messaging API channelã€
2. å¡«å¯«ä»¥ä¸‹è³‡è¨Šï¼š
   - Channel nameï¼šæ¯æ—¥éˆä¿® Bot
   - Channel descriptionï¼šè‡ªå‹•ç™¼é€æ¯æ—¥éˆä¿®å…§å®¹
   - Categoryï¼šé¸æ“‡é©åˆçš„é¡åˆ¥ï¼ˆå¦‚ï¼šEducationï¼‰
   - Subcategoryï¼šé¸æ“‡å­é¡åˆ¥
3. åŒæ„æ¢æ¬¾ä¸¦å»ºç«‹

### 4. å–å¾— Channel Access Token
1. é€²å…¥ä½ å»ºç«‹çš„ Channel
2. é»é¸ã€ŒMessaging APIã€æ¨™ç±¤
3. æ‰¾åˆ°ã€ŒChannel access tokenã€å€åŸŸ
4. é»é¸ã€ŒIssueã€ç™¼è¡Œ Token
5. **è¤‡è£½ä¸¦å¦¥å–„ä¿å­˜é€™å€‹ Token**

### 5. è¨­å®š Webhookï¼ˆå¯é¸ï¼‰
å¦‚æœéœ€è¦æ¥æ”¶ä½¿ç”¨è€…è¨Šæ¯ï¼Œæ‰éœ€è¦è¨­å®šã€‚å°æ–¼å–®å‘ç™¼é€çš„æ©Ÿå™¨äººï¼Œå¯ä»¥è·³éæ­¤æ­¥é©Ÿã€‚

## ç¬¬äºŒæ­¥ï¼šå°‡ Bot åŠ å…¥ç¾¤çµ„

### 1. åŠ å…¥ Bot ç‚ºå¥½å‹
1. åœ¨ LINE Developers Console æ‰¾åˆ°ä½ çš„ Bot
2. æƒæ QR Code æˆ–æœå°‹ Bot ID
3. åŠ å…¥ç‚ºå¥½å‹

### 2. å°‡ Bot åŠ å…¥ç¾¤çµ„
1. å»ºç«‹æˆ–é¸æ“‡ä¸€å€‹ LINE ç¾¤çµ„
2. é»é¸ç¾¤çµ„è¨­å®š â†’ é‚€è«‹
3. æœå°‹ä¸¦é‚€è«‹ä½ çš„ Bot

### 3. å–å¾— Group ID

**âš ï¸ é‡è¦èªªæ˜ï¼š**
- æ–¹æ³•ä¸€çš„ broadcast API åªæœƒè¿”å› `{}`ï¼Œ**ç„¡æ³•å–å¾— Group ID**
- å»ºè­°ä½¿ç”¨æ–¹æ³•äºŒæˆ–æ–¹æ³•ä¸‰ä¾†å–å¾— Group ID

**æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Webhook.siteï¼ˆæœ€ç°¡å–®ï¼Œæ¨è–¦ ğŸš€ï¼‰**

é€™æ˜¯æœ€å¿«çš„æ–¹æ³•ï¼Œä¸éœ€è¦å®‰è£ä»»ä½•æ±è¥¿ã€‚

1. **å–å¾— Webhook URL**
   - é–‹å•Ÿ [https://webhook.site/](https://webhook.site/)
   - è¤‡è£½ç•«é¢ä¸Šçš„ `Unique URL`ï¼ˆé»é¸ Copy to clipboardï¼‰

2. **è¨­å®š LINE Console**
   - å›åˆ° [LINE Developers Console](https://developers.line.biz/)
   - é€²å…¥ Messaging API é é¢ï¼Œæ‰¾åˆ° Webhook settings
   - è²¼ä¸Šå‰›å‰›è¤‡è£½çš„ç¶²å€ï¼ˆ**ä¸éœ€è¦**åŠ  `/webhook`ï¼‰
   - æŒ‰ä¸‹ Updateï¼Œä¸¦ç¢ºä¿ **Use webhook** å·²é–‹å•Ÿ

3. **å–å¾— ID**
   - åœ¨ LINE ç¾¤çµ„ä¸­å‚³é€éš¨æ„è¨Šæ¯
   - å›åˆ° webhook.siteï¼Œå·¦å´é»æ“Šæ–°æ”¶åˆ°çš„è«‹æ±‚
   - åœ¨å…§å®¹ä¸­æ‰¾åˆ° `source` -> `groupId`
   - è¤‡è£½ä»¥ `C` é–‹é ­çš„å­—ä¸²ï¼ˆä¾‹å¦‚ `C1234567890...`ï¼‰

### æ–¹æ³• 2ï¼šä½¿ç”¨ LINE Bot Designer

1. ä¸‹è¼‰ä¸¦å®‰è£ [LINE Bot Designer](https://line-bot-designer.vercel.app/)
2. é–‹å•Ÿç¨‹å¼ï¼Œé¸æ“‡ "Start a new project"
3. åœ¨ "Bot settings" è¼¸å…¥ä½ çš„ Channel Access Token
4. åœ¨ç¾¤çµ„å‚³é€è¨Šæ¯
5. ç¨‹å¼ä»‹é¢æœƒé¡¯ç¤ºæ”¶åˆ°çš„ Webhook äº‹ä»¶ï¼Œå¾ä¸­å°‹æ‰¾ `groupId`

## ç¬¬ä¸‰æ­¥ï¼šè¨­å®š GitHub Secrets

1. å‰å¾€ä½ çš„ GitHub Repository
2. é»é¸ã€ŒSettingsã€â†’ã€ŒSecrets and variablesã€â†’ã€ŒActionsã€
3. é»é¸ã€ŒNew repository secretã€
4. æ–°å¢ä»¥ä¸‹ä¸‰å€‹ secretsï¼š

### LINE_CHANNEL_ACCESS_TOKEN
- Name: `LINE_CHANNEL_ACCESS_TOKEN`
- Secret: è²¼ä¸Šä½ å¾ LINE Developers Console å–å¾—çš„ Channel Access Token

### LINE_GROUP_ID
- Name: `LINE_GROUP_ID`
- Secret: è²¼ä¸Šä½ çš„ç¾¤çµ„ IDï¼ˆæ ¼å¼ï¼šCé–‹é ­çš„é•·å­—ä¸²ï¼‰

### GITHUB_PAGES_URLï¼ˆé¸å¡«ï¼‰
- Name: `GITHUB_PAGES_URL`
- Secret: `https://hungshinlee.github.io/daily-devotional`
- å¦‚æœä¸è¨­å®šï¼Œæœƒä½¿ç”¨é è¨­å€¼

## ç¬¬å››æ­¥ï¼šå•Ÿç”¨ GitHub Pages

1. å‰å¾€ Repository Settings
2. é»é¸ã€ŒPagesã€
3. Source é¸æ“‡ã€ŒDeploy from a branchã€
4. Branch é¸æ“‡ã€Œmainã€
5. è³‡æ–™å¤¾é¸æ“‡ã€Œ/ (root)ã€æˆ–ã€Œ/devotionalsã€
6. é»é¸ã€ŒSaveã€
7. ç­‰å¾…å¹¾åˆ†é˜ï¼Œè¨ªå• `https://hungshinlee.github.io/daily-devotional/` ç¢ºèªéƒ¨ç½²æˆåŠŸ

## ç¬¬äº”æ­¥ï¼šæ¸¬è©¦

### æ‰‹å‹•è§¸ç™¼æ¸¬è©¦
1. å‰å¾€ GitHub Actions
2. é»é¸ã€ŒDaily Devotional Postã€workflow
3. é»é¸ã€ŒRun workflowã€
4. é¸æ“‡ branch ä¸¦åŸ·è¡Œ
5. æª¢æŸ¥åŸ·è¡Œçµæœå’Œ LINE ç¾¤çµ„æ˜¯å¦æ”¶åˆ°è¨Šæ¯

### æª¢æŸ¥æ¸…å–®
- [ ] LINE Bot å·²å»ºç«‹ä¸¦å–å¾— Channel Access Token
- [ ] Bot å·²åŠ å…¥ç›®æ¨™ç¾¤çµ„
- [ ] å–å¾—ç¾¤çµ„ ID
- [ ] GitHub Secrets å·²æ­£ç¢ºè¨­å®š
- [ ] GitHub Pages å·²å•Ÿç”¨
- [ ] æ¸¬è©¦åŸ·è¡ŒæˆåŠŸ
- [ ] LINE ç¾¤çµ„æ”¶åˆ°æ¸¬è©¦è¨Šæ¯

## å¸¸è¦‹å•é¡Œ

### Q: æ‰¾ä¸åˆ° Group ID æ€éº¼è¾¦ï¼Ÿ
A: æœ€ç°¡å–®çš„æ–¹æ³•æ˜¯åœ¨ç¾¤çµ„ä¸­èˆ‡ Bot äº’å‹•ï¼Œç„¶å¾ŒæŸ¥çœ‹ webhook äº‹ä»¶ã€‚å¯ä»¥ä½¿ç”¨ [webhook.site](https://webhook.site/) ç­‰æœå‹™ä¾†æ¥æ”¶æ¸¬è©¦äº‹ä»¶ã€‚

### Q: è¨Šæ¯æ²’æœ‰ç™¼é€ï¼Ÿ
A: æª¢æŸ¥ GitHub Actions çš„åŸ·è¡Œè¨˜éŒ„ï¼Œç¢ºèªæ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯ã€‚å¸¸è¦‹å•é¡ŒåŒ…æ‹¬ï¼š
- Token æˆ– Group ID éŒ¯èª¤
- Bot ä¸åœ¨ç¾¤çµ„ä¸­
- ç•¶å¤©çš„æ–‡ç« æª”æ¡ˆä¸å­˜åœ¨

### Q: å¦‚ä½•æ›´æ”¹ç™¼é€æ™‚é–“ï¼Ÿ
A: ä¿®æ”¹ `.github/workflows/daily-post.yml` ä¸­çš„ cron è¡¨é”å¼ã€‚æ³¨æ„ GitHub Actions ä½¿ç”¨ UTC æ™‚é–“ã€‚

## éœ€è¦å”åŠ©ï¼Ÿ

å¦‚æœ‰å•é¡Œï¼Œæ­¡è¿åœ¨ GitHub Issues ä¸­æå•ï¼
